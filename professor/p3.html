<!DOCTYPE html>
<html>
<head>
    <title>P3</title>

    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
        }

        h1 {
            margin-top: 60px;
        }

        .section {
            margin-top: 120px;
            font-size: 28px;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 12px;
            flex-wrap: wrap;
        }

        .date-box {
            width: 140px;
            padding: 18px;
            border: 4px solid black;
            cursor: pointer;
            position: relative;
            user-select: none;
        }

        .date-box:hover {
            background-color: #f0f0f0;
        }

        .dropdown {
            position: absolute;
            top: 110%;
            left: 0;
            width: 100%;
            max-height: 200px;
            overflow-y: auto;
            border: 3px solid black;
            background: white;
            display: none;
            z-index: 10;
        }

        .dropdown div {
            padding: 10px;
            cursor: pointer;
            font-size: 18px;
        }

        .dropdown div:hover {
            background-color: lightgreen;
        }

        .time-section {
            margin-top: 80px;
        }

        
        .next-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            padding: 16px 26px;
            font-size: 18px;
            cursor: pointer;
            border: 3px solid black;
            background-color: lightgreen;
        }
    </style>
</head>

<body>

    <h1>Select your desired Time</h1>

    <!-- DATE -->
    <div class="section">
        <strong>Date:</strong>

        <div class="date-box" onclick="toggleDropdown('dayDropdown')">
            <span id="dayValue">Day</span>
            <div class="dropdown" id="dayDropdown"></div>
        </div>

        <span>.</span>

        <div class="date-box" onclick="toggleDropdown('monthDropdown')">
            <span id="monthValue">Month</span>
            <div class="dropdown" id="monthDropdown"></div>
        </div>

        <span>.</span>

        <div class="date-box" onclick="toggleDropdown('yearDropdown')">
            <span id="yearValue">Year</span>
            <div class="dropdown" id="yearDropdown"></div>
        </div>
    </div>

    <!-- TIME -->
    <div class="section time-section">
        <strong>Time:</strong>

        <span>From:</span>
        <div class="date-box" onclick="toggleDropdown('fromTimeDropdown')">
            <span id="fromTimeValue">00:00</span>
            <div class="dropdown" id="fromTimeDropdown"></div>
        </div>

        <span>To:</span>
        <div class="date-box" onclick="toggleDropdown('toTimeDropdown')">
            <span id="toTimeValue">24:00</span>
            <div class="dropdown" id="toTimeDropdown"></div>
        </div>
    </div>

    <!-- NEXT BUTTON-->
    <button class="next-button" onclick="goToP4()">Create Survey</button>

    <script>
        function toggleDropdown(id) {
            document.querySelectorAll('.dropdown').forEach(d => {
                if (d.id !== id) d.style.display = "none";
            });

            const dropdown = document.getElementById(id);
            dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";
        }

        function selectValue(type, value) {
            document.getElementById(type + "Value").textContent = value;
            document.getElementById(type + "Dropdown").style.display = "none";
        }

        // Day
        for (let i = 1; i <= 31; i++) {
            const div = document.createElement("div");
            div.textContent = i;
            div.onclick = () => selectValue("day", i);
            dayDropdown.appendChild(div);
        }

        // Month
        for (let i = 1; i <= 12; i++) {
            const div = document.createElement("div");
            div.textContent = i;
            div.onclick = () => selectValue("month", i);
            monthDropdown.appendChild(div);
        }

        // Year
        for (let i = 2020; i <= 2099; i++) {
            const div = document.createElement("div");
            div.textContent = i;
            div.onclick = () => selectValue("year", i);
            yearDropdown.appendChild(div);
        }

        // Time 
        function generateTimeOptions(dropdownId, valueId) {
            const dropdown = document.getElementById(dropdownId);

            for (let h = 0; h <= 24; h++) {
                for (let m = 0; m < 60; m += 15) {
                    if (h === 24 && m > 0) break;

                    const time = `${String(h).padStart(2, "0")}:${String(m).padStart(2, "0")}`;
                    const div = document.createElement("div");

                    div.textContent = time;
                    div.onclick = () => {
                        document.getElementById(valueId).textContent = time;
                        dropdown.style.display = "none";
                    };

                    dropdown.appendChild(div);
                }
            }
        }

        generateTimeOptions("fromTimeDropdown", "fromTimeValue");
        generateTimeOptions("toTimeDropdown", "toTimeValue");

        function goToP4() {
            window.location.href = "p4.html";
        }
    </script>

</body>
</html>
